<!DOCTYPE html>
<html>

<head>
  <title>
    <%= title %>
  </title>
  <!-- <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" /> -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
  <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous">
  </script>
</head>

<body>


    <main>
      <div class="container mt-5">
        <h2 class="text-center">CRUD DATA MAHASISWA EXPRESS-JS</h2>
        <div class="row mt-3">
          <!-- Alert -->
          <div class="col-auto col-lg-12 mt-2">
            <% if(alert.message !="" ) { %>
              <div class="alert alert-<%= alert.status %>" role="alert">
                <%= alert.message %>
              </div>
              <% } %>
          </div>
          <!-- Table -->
          <div class="col-auto col-lg-12 mt-2"><%- include('table.ejs') %></div>
        </div>
      </div>
      <!-- Add Modal -->
      <%- include('add_modal.ejs') %>
        <!-- Edit Modal -->
        <%- include('edit_modal.ejs') %>
          <!-- JS -->
          <%- include('js.ejs') %>
    </main>


    <script>
      /* Menampilkan modal dan memanggil tag table yang memiliki id dataTable
         class button-update di class tag a Edit di file table.ejs */
      $("#dataTable").on("click", ".button-update", function () {
        // membuat variabel untuk mengambil data-id, data-name, dstnya yang sudah dibuat di file table.ejs di bagian tag a edit
        let id = $(this).data("id");
        let nama = $(this).data("nama");
        let umur = $(this).data("umur");
        let email = $(this).data("email");
        let no_telp = $(this).data("no_telp");
        let alamat = $(this).data("alamat");
        /*
         * memanggil id edit-modal yang ada di file edit_modal.ejs
         * dan membuat fungsi dari method
         */
        $("#edit-modal").modal("show");
        /* Lalu Mengirim  id, name, dstnya melalu class disamping form-control tag input
           dan valuenya mengambil dari setiap let yang dideklarasikan di atas */
        $(".id").val(id);
        $(".nama").val(nama);
        $(".umur").val(umur);
        $(".email").val(email);
        $(".no_telp").val(no_telp);
        $(".alamat").val(alamat);
      });
    </script>



    <!-- </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
      integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js"
        crossorigin="anonymous"></script>
        <script src="js/datatables-simple-demo.js"></script> -->
</body>

</html>